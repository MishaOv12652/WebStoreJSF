<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
>
<f:metadata>
    <f:event type="preRenderView" listener="#{profileController.loadProfileInfo}"/>
</f:metadata>
<h:head>

    <title>Web Store</title>

    <link rel="shortcut icon" type="image/x-icon" href="../resources/imgs/dollar.png"/>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <link rel="stylesheet" href="../resources/bootstrap-3.3.7-dist/css/bootstrap.min.css"/>

    <link rel="stylesheet" href="../resources/Custom%20CSS/navBar.css"/>

    <link rel="stylesheet" href="../resources/Custom%20CSS/addItem.css"/>

</h:head>
<h:body>
    <b:navBar brandImg="https://png.icons8.com/office/30/000000/tea.png" brandImgStyle="padding-right: 10px;"
              brandAlign="left" brand="Dreaming Buy And Sell" inverse="true" brandHref="#" fixed="top">
        <h:form style="padding-top: 10px" styleClass="pull-left">
            <h:panelGrid columns="5">
                <h:panelGrid columns="2">
                    <h:outputLabel style="font-size: 17px;color: grey" for="searchInput" value="Search:"/>
                    <h:inputText style="padding-left: 10px;width: 100px" id="searchInput" value="#{item.category}"/>
                </h:panelGrid>
                <h:panelGrid columns="2" style="padding-left: 10px;padding-right: 10px">
                    <h:outputLabel style="font-size: 17px;color: grey;padding-left: 10px" for="categories"
                                   value="Categorie:"/>
                    <h:inputText id="categories" style="width: 100px" value="#{item}"/>
                </h:panelGrid>
                <h:commandButton style="padding-left: 10px" styleClass="btn btn-primary" value="Search"
                                 actionListener="#{search}"/>
            </h:panelGrid>
        </h:form>

        <b:navbarLinks styleClass="pull-right">
            <b:navLink value="home" iconAwesome="home" href="../index.xhtml"/>
            <b:dropMenu value="Hi #{user.firstName}">
                <b:navLink value="Personal Info" href="profile-personal-info.xhtml"/>
                <b:navLink value="Selling List" href="profile-selling-items.xhtml"/>
                <b:navLink value="Wish List" href="#"/>
            </b:dropMenu>
        </b:navbarLinks>
    </b:navBar>

    <div class="jumbotron">
        <h:form>
            <h2>Product Detail:</h2>

            <h:panelGrid bodyrows="8" styleClass="col-md-offset-5">
                <h:panelGrid columns="2">

                    <h:outputLabel for="categories_item" value="Categories:">

                        <h:selectOneMenu id="categories_item" value="#{item.category}">
                            <c:forEach items="#{item.categories.entrySet()}" var="category">
                                <f:selectItem itemValue="#{category.key}" itemLabel="#{category.value}"/>
                                <f:ajax event="change" render="@form"/>
                            </c:forEach>
                        </h:selectOneMenu>

                    </h:outputLabel>

                </h:panelGrid>

                <h:panelGrid columns="1">

                    <h:outputLabel for="name" value="Name:">

                        <h:inputText id="name" value="#{item.name}"
                                     required="true"
                                     requiredMessage="Please Enter The Products Name"
                        />
                        <p:growl for="name" sticky="false" life="3000"/>
                    </h:outputLabel>

                </h:panelGrid>

                <h:panelGrid columns="1">

                    <h:outputLabel for="price" value="Price:">

                        <h:inputText id="price" value="#{item.price}"/>

                    </h:outputLabel>

                </h:panelGrid>

                <h:panelGrid columns="2">

                    <h:outputLabel for="condition" value="Condition:">

                        <h:selectOneMenu id="condition" value="#{item.condition}">
                            <c:forEach items="#{item.conditions.entrySet()}" var="condition">
                                <f:selectItem itemValue="#{condition.key}" itemLabel="#{condition.value}"/>
                            </c:forEach>

                        </h:selectOneMenu>

                    </h:outputLabel>

                </h:panelGrid>

                <!--<h:panelGrid columns="2">-->

                <!--<h:outputLabel for="photo" value="Photo:">-->

                <!--<h:inputFile id="photo" styleClass="col-md-offset-2" value="#{item.img}"/>-->

                <!--</h:outputLabel>-->

                <!--</h:panelGrid>-->

                <h:panelGrid columns="1">

                    <h:outputLabel for="numOfItems" value="Number Of Items You Want To Sell:">

                        <h:inputText id="numOfItems" value="#{item.numOfItems}"/>

                    </h:outputLabel>

                </h:panelGrid>


            </h:panelGrid>

            <h2>Product Specifics:</h2>
            <h:panelGrid id="product_specs">
                <h:panelGrid bodyrows="7" styleClass="col-md-offset-4" rendered="#{item.category eq 1}">
                    <ui:insert name="computer">
                        <ui:include src="ItemCategoryPages/book.xhtml"/>
                    </ui:insert>
                </h:panelGrid>
                <h:panelGrid bodyrows="7" styleClass="col-md-offset-4" rendered="#{item.category eq 2}">
                    <ui:insert name="computer">
                        <ui:include src="ItemCategoryPages/cellphone.xhtml"/>
                    </ui:insert>
                </h:panelGrid>
                <h:panelGrid bodyrows="7" styleClass="col-md-offset-4" rendered="#{item.category eq 3}">
                    <ui:insert name="computer">
                        <ui:include src="ItemCategoryPages/computer.xhtml"/>
                    </ui:insert>
                </h:panelGrid>
                <h:panelGrid bodyrows="7" styleClass="col-md-offset-4" rendered="#{item.category eq 4}">
                    <ui:insert name="computer">
                        <ui:include src="ItemCategoryPages/movie.xhtml"/>
                    </ui:insert>
                </h:panelGrid>
                <h:panelGrid bodyrows="7" styleClass="col-md-offset-4" rendered="#{item.category eq 5}">
                    <ui:insert name="computer">
                        <ui:include src="ItemCategoryPages/other.xhtml"/>
                    </ui:insert>
                </h:panelGrid>
            </h:panelGrid>


            <h3>Product Description:</h3>

            <h:inputTextarea styleClass="col-md-offset-4" style="width: 600px;height: 250px"
                             value="#{item.itemDesc}"/>
            <div class="row btn-group col-md-pull-3" style="margin-top: 100px;">
                <h:button style="margin-top: 15px" styleClass="btn btn-danger pull-left" value="Back To Selling List"
                          outcome="profile-selling-items"/>
                <!--<h:commandButton rendered="#{item.category eq 1}" actionListener="#{book.addBookForSale}" styleClass="btn btn-success col-md-offset-6" style="margin-top: 15px" value="Add Book For Sale" update="growl"/>-->
                <!--<h:commandButton rendered="#{item.category eq 2}" actionListener="#{cellPhone.addCellPhoneForSale}" styleClass="btn btn-success col-md-offset-6" style="margin-top: 15px" value="Add Cell Phone For Sale" update="growl"/>-->
                <!--<h:commandButton rendered="#{item.category eq 3}" actionListener="#{comp.addComputerForSale}" styleClass="btn btn-success col-md-offset-6" style="margin-top: 15px" value="Add Computer Or Tablet For Sale" update="growl"/>-->
                <!--<h:commandButton rendered="#{item.category eq 4}" actionListener="#{movie.addMovieForSale}" styleClass="btn btn-success col-md-offset-6" style="margin-top: 15px" value="Add Movie For Sale" update="growl"/>-->
                <h:commandButton rendered="#{item.category eq 5}" actionListener="#{itemController.addItem(item, user.email)}"
                                 styleClass="btn btn-success pull-right" style="margin-top: 15px"
                                 value="Add Item For Sale" update="growl"/>

            </div>

            <p:growl id="growl" showDetail="true" sticky="false" life="3000"/>
        </h:form>

    </div>
</h:body>
</html>
